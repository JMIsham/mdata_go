language: go

go:
  - 1.12.x

# Force-enable Go modules. Also force go to use the code in vendor/
# These will both be unnecessary when Go 1.13 lands.
env:
  - GO111MODULE=on
  - GOFLAGS='-mod vendor'

# Only clone the most recent commit
git:
  depth: 1

#go_import_path: mdata_go/src

dist: xenial

# Phase 1: Grab dependencies
before_install:
  - sudo apt-get update
  - sudo apt-get install -y  -q --allow-downgrades pkg-config build-essential openssl libzmq3-dev libssl-dev

install: ./ci-scripts/install-dependencies.sh

# Phase 2: Testing
script:
  - go test -v ./...

# Phase 3: Build Binaries


# Phase 4: Deploy Binaries